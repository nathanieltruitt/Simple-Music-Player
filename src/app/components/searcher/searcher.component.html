<div
  class="overlay"
  *ngIf="results$ !== undefined"
  (click)="onOverlayClick()"
></div>
<div class="container">
  <div class="row">
    <div class="col-md-12 searcher-container">
      <!-- TODO: need to refactor searcher results dropdown -->
      <span
        class="alert alert-danger"
        *ngIf="resultsErr$ | async as resultsErr"
        >{{ resultsErr.message }}</span
      >
      <div class="form-group searcher-form-group">
        <input
          type="text"
          id="track-searcher"
          name="track-searcher"
          placeholder="search for tracks"
          [(ngModel)]="searcherValue"
          (keyup)="onSearch(searcherValue)"
        />
      </div>
      <div class="dropdown mt-1">
        <ul
          class="dropdown-menu custom-dropdown-menu"
          [class.show]="searcherValue"
        >
          <div *ngIf="loading$ | async; else results" class="loader"></div>
          <ng-template #results>
            <ng-container *ngIf="results$ | async as results">
              <div *ngFor="let item of results">
                <li
                  class="dropdown-item d-flex align-items-center p-3"
                  (click)="onAddTrackToQueue(item)"
                >
                  <img
                    style="width: 100px; height: auto"
                    src="{{ item.album.images[1].url }}"
                    alt="{{ item.name + ' album cover' }}"
                  />
                  <h3 class="ms-3 me-auto">{{ item.name }}</h3>
                </li>
              </div>
            </ng-container>
          </ng-template>
        </ul>
      </div>
    </div>
  </div>
</div>
<!-- <button style="position: absolute; z-index: 100" (click)="test()">
  Click Me
</button> -->
